@prefix ex:   <http://example.org/> .
@prefix as:   <https://www.w3.org/ns/activitystreams#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix pol:  <https://www.example.org/ns/policy#> .
@prefix fno:  <https://w3id.org/function/ontology#> .
@prefix list: <http://www.w3.org/2000/10/swap/list#> .

{
  # pol:mainSubject defines the top level identifier of the notification
  [ pol:mainSubject ?id ] .
  
  ?id a ?class .
  ?class list:in (as:Announce as:Create) .
}
=>
{
  # Using blank nodes to define policy is possible but not advisable.
  # N3 rules can be fired multiple times when the premise has multiple
  # bidings. For every binding the rule could generate new blank nodes
  # and this will result in more executions than expected.
  [ pol:policy [
      a fno:Execution ;
      fno:executes ex:demoPlugin ;
      ex:param1 "my@myself.and.i" ;
      ex:param2 "you@yourself.edu" ;
      ex:body ?id
  ] ] .
}.
